{% extends 'base.html' %}

{% block title %}Профиль{% endblock %}

{% block content %}
<div class="container" style="width: 100%; max-width: 400px; text-align: center; background-color: #444; padding: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);">
    <h2 style="color: #d3d3d3; margin-bottom: 20px; font-size: 24px;">Профиль</h2>

    {% if messages %}
        <div>
            {% for message in messages %}
                <div style="margin-bottom: 20px;">
                    {% if message.tags == "success" %}
                        <p style="color: green;">{{ message }}</p>
                    {% elif message.tags == "error" %}
                        <p style="color: red;">{{ message }}</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <div style="padding: 20px; background-color: #444;">
        <p style="font-size: 18px;"><strong>Имя пользователя:</strong> {{ user.username }}</p>
        <p style="font-size: 18px;"><strong>Электронная почта:</strong> {{ user.email }}</p>

        <!-- Кнопки -->
        <div class="btn-group" style="width: 100%; display: flex; flex-direction: column; gap: 10px;">

            <!-- Кнопка редактирования профиля -->
            <a href="{% url 'edit_profile' %}" style="
                display: inline-block;
                padding: 12px 25px;
                background-color: #007bff;
                color: #fff;
                text-decoration: none;
                border-radius: 5px;
                font-size: 16px;
                transition: background-color 0.3s ease;
                width: 66%;
                text-align: center;
                margin: 0 auto;
            ">Редактировать профиль</a>

            <!-- Кнопка добавления уведомления -->
            <a href="{% url 'add_notification' %}" style="
                display: inline-block;
                padding: 12px 25px;
                background-color: #28a745;
                color: #fff;
                text-decoration: none;
                border-radius: 5px;
                font-size: 16px;
                transition: background-color 0.3s ease;
                width: 66%;
                text-align: center;
                margin: 0 auto;
            ">Добавить уведомление</a>

            <!-- Кнопка списка уведомлений -->
            <a href="{% url 'notification_list' %}" style="
                display: inline-block;
                padding: 12px 25px;
                background-color: #6c757d;
                color: #fff;
                text-decoration: none;
                border-radius: 5px;
                font-size: 16px;
                transition: background-color 0.3s ease;
                width: 66%;
                text-align: center;
                margin: 0 auto;
            ">Список уведомлений</a>

            <!-- Кнопка удаления профиля (перемещена в конец) -->
            <form action="{% url 'delete_profile' %}" method="POST">
                {% csrf_token %}
                <button type="submit" style="
                    display: inline-block;
                    padding: 12px 25px;
                    background-color: #d9534f;
                    color: #fff;
                    border: none;
                    border-radius: 5px;
                    font-size: 16px;
                    cursor: pointer;
                    transition: background-color 0.3s ease;
                    width: 66%;
                    text-align: center;
                    margin: 0 auto;
                " onclick="return confirm('Вы уверены, что хотите удалить свой профиль?');">
                    Удалить профиль
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
